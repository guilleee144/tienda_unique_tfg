package com.example.uniqueartifacts.viewmodels

import androidx.compose.runtime.mutableStateListOf
import androidx.compose.runtime.snapshots.SnapshotStateList
import androidx.lifecycle.ViewModel
import com.example.uniqueartifacts.R
import com.example.uniqueartifacts.views.Notificacion

class NotificacionesViewModel : ViewModel() {

    //  Lista reactiva de notificaciones
    private val _notificaciones = mutableStateListOf(
        Notificacion(
            icono = R.drawable.descuento,
            titulo = "NUEVO DESCUENTO DISPONIBLE",
            descripcion = "Entre en ofertas para descubrir los descuentos de la temporada."
        ),
        Notificacion(
            icono = R.drawable.caja_icono,
            titulo = "PAQUETE ENTREGADO CON XITO",
            descripcion = "Su paquete ha llegado con 茅xito a la direcci贸n C/Maria Sarmientos 31, ha sido entregado a las 8:31 am."
        )
    )

    //  Exposici贸n segura de la lista
    val notificaciones: SnapshotStateList<Notificacion> = _notificaciones

    //  Agregar una notificaci贸n (puedes evitar duplicados si quieres)
    fun agregar(notificacion: Notificacion) {
        if (!_notificaciones.contains(notificacion)) {
            _notificaciones.add(notificacion)
        }
    }

    //  Eliminar una notificaci贸n espec铆fica
    fun eliminar(notificacion: Notificacion) {
        _notificaciones.remove(notificacion)
    }

    //  Eliminar todas (por si quieres un bot贸n de "borrar todo")
    fun eliminarTodas() {
        _notificaciones.clear()
    }
}
